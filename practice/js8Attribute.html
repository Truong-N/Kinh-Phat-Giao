
<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>js8</title>
   </head>
   <style>
      * {
      cursor: pointer;
      }
      .viet {
      color: red;
      }
      img { width: 75%;}
      
   </style>
   <body>
      <div>
         <!-- <div>
            <button id="stop">Stop!</button>
            <button id="speak">Speak</button>
         </div> -->
         <label><input type="checkbox" id="readeng" name="pencil" >read English only</label><br>
         <a href="./js7AddRemoveChild.html">Prev</a>
         <!-- <a href="./js0.html">Index</a> -->
         <a href="./js9EventObject.html">Next</a>
      </div>
      <div style="font-size: larger;" class="read"></div>
      <div class="vietEng">
      
      </div>
      <script>
        let vietEng = document.querySelector(".vietEng");
        let vietParagraphs = `~~ How Do You Add Attributes with setAttribute()?~~ You may be familiar with working with attributes in your HTML and CSS projects.~ But did you know that you can add attributes to your HTML elements in your JavaScript file?~~ In this lesson, you will learn how to work with the setAttribute() method to add attributes to your HTML elements.~~ Here is the basic syntax:~~ setAttribute(attribute, value);~~ Let's take a look at a few examples to better understand how to use the setAttribute() method.~~ In this first example, we have a p element inside the HTML:~~ &lt;p id="para"&gt;I am a paragraph&lt;/p&gt;~~ To add a class attribute we first need to access that p element using the getElementById() method.~ Then we can use the setAttribute() method to add the class attribute and set the value to my-class.~~ We are using outerHTML to log the entire HTML element including its attributes.~~ &lt;p id="para"&gt;I am a paragraph&lt;/p&gt;~~ &lt;script src="index.js"&gt;&lt;/script&gt;~~ const para = document.getElementById("para");~~ para.setAttribute("class", "my-class");~~ console.log(\`\${para.outerHTML}\`);~~ If you have an existing attribute on an HTML element, you can update its value using the setAttribute() method.~~ In this example we have a div element with a class attribute set to my-class:~~ &lt;div class="my-class"&gt;&lt;/div&gt;~~ To update the class attribute value to example, we can use the setAttribute() method again:~~ &lt;div class="my-class"&gt;&lt;/div&gt;~~ &lt;script src="index.js"&gt;&lt;/script&gt;~~ const divEl = document.querySelector(".my-class");~~ divEl.setAttribute("class", "example");~~ console.log(\`\${divEl.outerHTML}\`);~~ So, what are some real-world examples of when to use the setAttribute() method?~~ If you were building a dynamic image gallery, you might need to update the src attribute of an image element when a user clicks on a thumbnail.~~ Another example would be if you're dealing with form validation and need to add certain attributes like required or minlength to an input element.~~ Questions~~ What does the setAttribute() method do?~~ It removes an attribute from an HTML element.~~ It changes the text content of an HTML element.~~ It adds a new attribute or updates the value of an existing attribute on an HTML element.~~ It creates a new HTML element.~~ How can you update the value of an existing attribute using setAttribute()?~~ By directly assigning a new value to the attribute in HTML.~~ By using getElementById() and then setting the attribute value with setAttribute().~~ By modifying the HTML file directly.~~ By using the innerHTML property.~~ In which scenario might you use setAttribute() in a real-world application?~~ To add a class attribute to a static div element without any dynamic interaction.~~ To update the src attribute of an image element when a user interacts with a thumbnail.~~ To change the text content of a p element on page load.~~ To modify the style attribute directly within a CSS file.~ `
        let engParagraphs = `~~ Làm thế nào để thêm thuộc tính bằng setAttribute()?~~ Có thể bạn đã quen thuộc với việc làm việc với các thuộc tính trong các dự án HTML và CSS của mình.~ Nhưng bạn có biết rằng bạn có thể thêm thuộc tính vào các phần tử HTML trong tệp JavaScript của mình không?~~ Trong bài học này, bạn sẽ học cách làm việc với phương thức setAttribute() để thêm thuộc tính vào các phần tử HTML của mình.~~ Đây là cú pháp cơ bản:~~ setAttribute(attribute, value);~~ Hãy xem xét một vài ví dụ để hiểu rõ hơn cách sử dụng phương thức setAttribute().~~ Trong ví dụ đầu tiên này, chúng ta có một phần tử p bên trong HTML:~~ &lt;p id="para"&gt;Tôi là một đoạn văn&lt;/p&gt;~~ Để thêm thuộc tính class, trước tiên chúng ta cần truy cập phần tử p đó bằng phương thức getElementById().~ Sau đó, chúng ta có thể sử dụng phương thức setAttribute() để thêm thuộc tính class và đặt giá trị là my-class.~~ Chúng ta đang sử dụng outerHTML để ghi lại toàn bộ phần tử HTML bao gồm cả các thuộc tính của nó.~~ &lt;p id="para"&gt;Tôi là một đoạn văn&lt;/p&gt;~~ &lt;script src="index.js"&gt;&lt;/script&gt;~~ const para = document.getElementById("para");~~ para.setAttribute("class", "my-class");~~ console.log(\`\${para.outerHTML}\`);~~ Nếu bạn có một thuộc tính hiện có trên một phần tử HTML, bạn có thể cập nhật giá trị của nó bằng cách sử dụng phương thức setAttribute().~~ Trong ví dụ này, chúng ta có một phần tử div với thuộc tính class được đặt thành my-class:~~ &lt;div class="my-class"&gt;&lt;/div&gt;~~ Để cập nhật giá trị thuộc tính class thành example, chúng ta có thể sử dụng lại phương thức setAttribute():~~ &lt;div class="my-class"&gt;&lt;/div&gt;~~ &lt;script src="index.js"&gt;&lt;/script&gt;~~ const divEl = document.querySelector(".my-class");~~ divEl.setAttribute("class", "example");~~ console.log(\`\${divEl.outerHTML}\`);~~ Vậy, một số ví dụ thực tế về khi nào nên sử dụng phương thức setAttribute() là gì?~~ Nếu bạn đang xây dựng một thư viện ảnh động, bạn có thể cần cập nhật thuộc tính src của một phần tử hình ảnh khi người dùng nhấp vào hình thu nhỏ.~~ Một ví dụ khác là khi bạn đang xử lý việc xác thực biểu mẫu và cần thêm một số thuộc tính nhất định như required hoặc minlength vào một phần tử input.~~ Câu hỏi~~ Phương thức setAttribute() làm gì?~~ Nó xóa một thuộc tính khỏi một phần tử HTML.~~ Nó thay đổi nội dung văn bản của một phần tử HTML.~~ Nó thêm một thuộc tính mới hoặc cập nhật giá trị của một thuộc tính hiện có trên một phần tử HTML.~~ Nó tạo một phần tử HTML mới.~~ Làm thế nào bạn có thể cập nhật giá trị của một thuộc tính hiện có bằng cách sử dụng setAttribute()?~~ Bằng cách gán trực tiếp một giá trị mới cho thuộc tính trong HTML.~~ Bằng cách sử dụng getElementById() và sau đó đặt giá trị thuộc tính bằng setAttribute().~~ Bằng cách sửa đổi trực tiếp tệp HTML.~~ Bằng cách sử dụng thuộc tính innerHTML.~~ Trong trường hợp nào bạn có thể sử dụng setAttribute() trong một ứng dụng thực tế?~~ Để thêm thuộc tính class vào một phần tử div tĩnh mà không cần tương tác động.~~ Để cập nhật thuộc tính src của một phần tử hình ảnh khi người dùng tương tác với hình thu nhỏ.~~ Để thay đổi nội dung văn bản của một phần tử p khi trang được tải.~~ Để sửa đổi thuộc tính style trực tiếp trong một tệp CSS.~ `
        let englishParagraphsArray = engParagraphs
            // .replaceAll("&lt;", "<")
            // .replaceAll("&gt;", ">")
            .split("~~")
        let vietParagraphsArray = vietParagraphs
            // .replaceAll("&lt;", "<")
            // .replaceAll("&gt;", ">")
            .split("~~")
        let eng_arr = []
        let viet_arr = []
        function show_arr(vietArr, engArr) {
           vietEng.innerHTML += "<p>"
           for (let i = 0; i < vietArr.length; i++) {
            if (vietArr[i] === engArr[i]){
                engArr[i] = '//'
            }
            //  vietEng.innerHTML += "<span> " + vietArr[i].trim() + ' </span><br><span style="color:red"> ' + engArr[i].trim() + " </span><br>"
             vietEng.innerHTML += vietArr[i].trim() + '<br><span style="color:red"> ' + engArr[i].trim() + " </span><br>"
             eng_arr.push(engArr[i])
             viet_arr.push(vietArr[i])
           }
           vietEng.innerHTML += "</p>"
        }
        for (let i = 0; i < vietParagraphsArray.length; i++){
           englishParagraph = englishParagraphsArray[i].split("~")
           vietParagraph = vietParagraphsArray[i].split("~")
           show_arr(vietParagraph, englishParagraph)
        }
         const readeng = document.querySelector("#readeng")
         const eng = document.querySelectorAll(".eng")
         let pre_txt = ' '
         let readEngOnly = false
         
         readeng.addEventListener("change", () => {
            readEngOnly = !readEngOnly
            
         })
         const msg = new SpeechSynthesisUtterance();
         let voice = [];
         const speakButton = document.querySelector('#speak');
         const stopButton = document.querySelector('#stop');

         
         function speakMinutes_viet(minutesArray) {
            if (minutesArray.length > 0) {

               let txt = minutesArray.shift(); // extract first item
               
               let utterance = new SpeechSynthesisUtterance(txt);
               // When the current utterance ends, speak the next one
               utterance.onend = function (event) {
               speakMinutes_eng(minutesArray); // Recursively call the function for the next item
               };

               // Handle potential errors
               utterance.onerror = function (event) {
                  console.error('Speech synthesis error: ' + event.error);
               };
               utterance.lang = 'en-US'// 'vi-VN'
               let txt1 = '<span style="color:red"> '+minutesArray[0].trim()+' </span>'
               let v_txt = '<span> '+txt.trim()+' </span><br>'
               vietEng.innerHTML = vietEng.innerHTML.replace(v_txt, "");
               vietEng.innerHTML = vietEng.innerHTML.replace(txt1, "");
               document.querySelector(".read").innerHTML = "<h2>"+txt+"<br>"+txt1+"</h2>"
               if( readEngOnly){
                  utterance.text = ' '
               }
               speechSynthesis.speak(utterance);

            }
         }
         function speakMinutes_eng(minutesArray) {
            if (minutesArray.length > 0) {

               let txt = minutesArray.shift(); // extract first item
               
               let utterance = new SpeechSynthesisUtterance(txt);
               // When the current utterance ends, speak the next one
               utterance.onend = function (event) {
               console.log('Speech ended, starting next minute.');
               speakMinutes_viet(minutesArray); // Recursively call the function for the next item
               };

               // Handle potential errors
               utterance.onerror = function (event) {
                  console.error('Speech synthesis error: ' + event.error);
               };
               utterance.lang = 'vi-VN'// 'en-US'
               speechSynthesis.speak(utterance);
            }
         }
         function readEV(startOver = true) {
            speechSynthesis.cancel();
            if (startOver) {
               let combine_arr = []
               
               for (let i = 0; i < eng_arr.length; i++) {
                 combine_arr.push(viet_arr[i])
                 combine_arr.push(eng_arr[i])
               }
               speakMinutes_viet(combine_arr)
            }
         }
         speakButton.addEventListener('click', readEV);
         stopButton.addEventListener('click', readEV.bind(null, false));
      </script>
   </body>
</html>

